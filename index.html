<html>

<head>
    <title>Restaurant</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />
</head>

<body>
    <h1>Restaurant</h1>

    <input type="text" name="user_name" />

    <button onclick="showMeal()">
        Meal
    </button>

    <div id="meal" style="display: none;">
        <div id="entree">
            <input type="checkbox" id="ent1" value="1" />
            <input type="checkbox" id="ent2" value="2" />

        </div>

        <div id="main course">
            <input type="checkbox" id="mc1" value="1" />
            <input type="checkbox" id="mc2" value="2" />
        </div>

        <div id="dessert">
            <input type="checkbox" id="mc1" value="1" />
            <input type="checkbox" id="mc2" value="2" />
        </div>

        <button onclickd="choiceCompleted()">Done</button>
    </div>

    <!-- Result -->

    <div id="div_result">
        Hi <span id="name_span"></span>, you chose
        <span id="ent_span"></span><br>
        <span id="mc_span"></span><br>
        <span id="dess_span"></span><br />
    </div>

    <script>
        function choiceCompleted() {
            mealDiv = document.getElementById("meal");
            mealDiv.style.display = none;

            resD = document.getElementById("resultDiv");
            resD.style.display = "block";

            us_name = document.getElementById("user_name").value;
            document.getElementById("name_span").value = us_name;
            document.getElementById("ent_span").value ="ent";
            document.getElementById("mc_span").value = "mc";
            document.getElementById("dess_span").value = "dess";
        }

        function showMeal() {
            mealDiv = document.getElementById("meal");
            mealDiv.style.display = block;
        }

        function addContact() {
            nameField = document.getElementById("name_field");
            numberField = document.getElementById("number_field");
            req = new XMLHttpRequest();
            req.onreadystatechange = function () {
                console.log("orsc. s: " + req.readyState);
                if (req.readyState === 4 && req.status === 200) {
                    console.log("rs 4");

                    nameField.value = "";
                    numberField.value = "";

                    document.getElementById("cont_suc_alert").style.
                        display = "block";
                    window.setTimeout(function () {
                        hideNofifyContAdded();
                    }, 3000);

                    downloadContacts();
                }
            };
            req.open("POST", "http://127.0.0.1:3000/new_contact", true);
            var newCont = {
                id: '', name: nameField.value,
                number: numberField.value
            };
            req.setRequestHeader("Content-Type", "application/json");
            req.send(JSON.stringify(newCont));

        }

        function hideNofifyContAdded() {
            console.log("hiding");
            document.getElementById("cont_suc_alert").style.
                display = "none";
        }
    </script>
</body>

</html>